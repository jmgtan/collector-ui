[{"/Users/jmgtan/work/collector-ui/src/index.js":"1","/Users/jmgtan/work/collector-ui/src/reportWebVitals.js":"2","/Users/jmgtan/work/collector-ui/src/App.js":"3","/Users/jmgtan/work/collector-ui/src/components/LoginComponent.js":"4","/Users/jmgtan/work/collector-ui/src/Config.js":"5","/Users/jmgtan/work/collector-ui/src/auth/AuthContext.js":"6","/Users/jmgtan/work/collector-ui/src/components/NavbarComponent.js":"7","/Users/jmgtan/work/collector-ui/src/auth/Principal.js":"8","/Users/jmgtan/work/collector-ui/src/exceptions/InvalidTokenException.js":"9","/Users/jmgtan/work/collector-ui/src/components/HomeComponent.js":"10","/Users/jmgtan/work/collector-ui/src/components/AdminComponent.js":"11","/Users/jmgtan/work/collector-ui/src/components/AuthComponent.js":"12","/Users/jmgtan/work/collector-ui/src/components/DataComponent.js":"13","/Users/jmgtan/work/collector-ui/src/components/PeopleDataComponent.js":"14","/Users/jmgtan/work/collector-ui/src/components/DemographicsDataComponent.js":"15","/Users/jmgtan/work/collector-ui/src/components/UploadBatchDataFileComponent.js":"16"},{"size":500,"mtime":1607512247595,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1607512247596,"results":"19","hashOfConfig":"18"},{"size":1234,"mtime":1607665918351,"results":"20","hashOfConfig":"18"},{"size":2683,"mtime":1607739852403,"results":"21","hashOfConfig":"18"},{"size":127,"mtime":1607913205146,"results":"22","hashOfConfig":"18"},{"size":167,"mtime":1607516016865,"results":"23","hashOfConfig":"18"},{"size":2224,"mtime":1607670221502,"results":"24","hashOfConfig":"18"},{"size":2382,"mtime":1607919277306,"results":"25","hashOfConfig":"18"},{"size":167,"mtime":1607657707662,"results":"26","hashOfConfig":"18"},{"size":131,"mtime":1607603630603,"results":"27","hashOfConfig":"18"},{"size":134,"mtime":1607603735364,"results":"28","hashOfConfig":"18"},{"size":1055,"mtime":1607613396063,"results":"29","hashOfConfig":"18"},{"size":1806,"mtime":1607912471332,"results":"30","hashOfConfig":"18"},{"size":1359,"mtime":1607913825891,"results":"31","hashOfConfig":"18"},{"size":1519,"mtime":1607913835736,"results":"32","hashOfConfig":"18"},{"size":3869,"mtime":1607920403412,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1xvseao",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"36"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/jmgtan/work/collector-ui/src/index.js",[],["71","72"],"/Users/jmgtan/work/collector-ui/src/reportWebVitals.js",[],"/Users/jmgtan/work/collector-ui/src/App.js",["73","74","75","76","77"],"import logo from './logo.svg';\nimport './App.css';\nimport LoginComponent from './components/LoginComponent';\nimport HomeComponent from './components/HomeComponent';\nimport AdminComponent from './components/AdminComponent';\nimport NavbarComponent from './components/NavbarComponent';\nimport AuthComponent from './components/AuthComponent';\nimport DataComponent from './components/DataComponent';\nimport {AuthContext, useAuthContext} from './auth/AuthContext';\nimport {useEffect, useState} from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\n\n\nfunction App() {\n  // const [principal, setPrincipal] = useState();\n\n  return (\n    <AuthComponent>\n        <BrowserRouter>\n          <NavbarComponent></NavbarComponent>\n          <div class=\"container\">\n            <Switch>\n              <Route path=\"/\" exact component={LoginComponent}></Route>\n              <Route path=\"/secured/main\" exact component={HomeComponent}></Route>\n              <Route path=\"/secured/data\" exact component={DataComponent}></Route>\n              <Route path=\"/secured/admin/users\" exact component={AdminComponent}></Route>\n            </Switch>\n          </div>\n        </BrowserRouter>\n    </AuthComponent>\n  );\n}\n\nexport default App;\n","/Users/jmgtan/work/collector-ui/src/components/LoginComponent.js",["78","79","80","81","82"],"import React, {useEffect, useState} from 'react';\nimport Config from '../Config';\nimport {useAuthContext} from '../auth/AuthContext';\nconst axios = require('axios');\n\nfunction LoginComponent() {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [check, setCheck] = useState(false);\n    const [validationError, setValidationError] = useState();\n\n    const {principal, setPrincipal} = useAuthContext();\n\n    async function doLogin(event) {\n        event.preventDefault();\n        setValidationError(null);\n        setCheck(true);\n\n        if (username.length > 0 && password.length > 0) {\n            try {\n                const loginResponse = await axios.post(Config.backend+\"/auth/login\", {username: username, password: password});    \n                const token = loginResponse.data.token;\n                await principal.reloadProfileWithNewToken(token);\n                setPrincipal(principal);\n        \n                window.location = \"/secured/main\";\n            } catch (e) {\n                setValidationError(\"Username and password do not match\");\n            }\n        }\n    }\n\n    return  (\n        <div class=\"row\">\n            <div class=\"col-3\"></div>\n            <div class=\"col-6\">\n                <div class=\"mt-3 mb-3\">\n                    <h1 class=\"display-6\">Sign In</h1>\n                </div>\n                {validationError ? <div class=\"alert alert-danger\">{validationError}</div> : null}\n                <form onSubmit={doLogin}>\n                    <div class=\"mb-3\">\n                        <label for=\"username\" class=\"form-label\">Username</label>\n                        <input type=\"text\" class={`form-control form-control-lg ${check && username.length == 0 ? \"is-invalid\" : null}`} value={username} onChange={e => setUsername(e.target.value)} />\n                        {check && username.length == 0 ? <div class=\"invalid-feedback\">Username is required</div> : null}\n                    </div>\n                    <div class=\"mb-3\">\n                        <label for=\"password\" class=\"form-label\">Password</label>\n                        <input type=\"password\" class={`form-control form-control-lg ${check && password.length == 0 ? \"is-invalid\" : null}`} value={password} onChange={e => setPassword(e.target.value)} />\n                        {check && password.length == 0 ? <div class=\"invalid-feedback\">Password is required</div> : null}\n                    </div>\n                    <button class=\"btn btn-primary\" type=\"submit\">Login</button>\n                </form>\n            </div>\n            <div class=\"col-3\"></div>\n        </div>\n    );\n}\n\nexport default LoginComponent;","/Users/jmgtan/work/collector-ui/src/Config.js",[],"/Users/jmgtan/work/collector-ui/src/auth/AuthContext.js",[],"/Users/jmgtan/work/collector-ui/src/components/NavbarComponent.js",["83","84"],"import React, {useState} from 'react';\nimport {useAuthContext} from '../auth/AuthContext';\nimport {Link} from 'react-router-dom';\n\nfunction NavbarComponent() {\n    const {principal} = useAuthContext();\n    const currLoc = window.location.pathname;\n    const [mainNavItem, setMainNavItem] = useState(currLoc);\n\n    function logout() {\n        principal.reset();\n        window.location = \"/\";\n\n    }\n    \n\n    if (!principal.authenticated)\n        return null;\n\n    return (\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <div class=\"container\">\n                <a class=\"navbar-brand\" href=\"/\">Collector UI</a>\n                <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggle\" aria-controls=\"navbarToggle\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span class=\"navbar-toggler-icon\"></span>\n                </button>\n                <div class=\"collapse navbar-collapse\" id=\"navbarToggle\">\n                    <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/main\" className={currLoc.startsWith(\"/secured/main\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/main\")}}>Home</Link>\n                        </li>\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/data\" className={currLoc.startsWith(\"/secured/data\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/data\")}}>Data</Link>\n                        </li>\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/admin/users\" className={currLoc.startsWith(\"/secured/admin\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/admin/users\")}}>Admin</Link>\n                        </li>\n                    </ul>\n                    <div class=\"d-flex\">\n                        Logged in as {principal.profile.username} [<a href=\"#\" onClick={logout} class=\"link-primary\">Logout</a>]\n                    </div>\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default NavbarComponent;","/Users/jmgtan/work/collector-ui/src/auth/Principal.js",[],"/Users/jmgtan/work/collector-ui/src/exceptions/InvalidTokenException.js",[],"/Users/jmgtan/work/collector-ui/src/components/HomeComponent.js",[],"/Users/jmgtan/work/collector-ui/src/components/AdminComponent.js",[],"/Users/jmgtan/work/collector-ui/src/components/AuthComponent.js",["85","86","87","88","89","90"],"import React, {Component, useEffect, useState} from 'react';\nimport Principal from '../auth/Principal';\nimport {AuthContext, useAuthContext} from '../auth/AuthContext';\nimport {Redirect} from 'react-router-dom';\n\n\nfunction AuthComponent(props) {\n    const [principal, setPrincipal] = useState();    \n    const path = window.location.pathname;\n\n    let pr = principal;\n    \n    useEffect(async() => {\n        if (pr == null) {\n            \n            pr = new Principal();\n            pr.initFromStorage()\n                .then(() => {\n                    setPrincipal(pr);\n                });\n        }\n    });\n\n    if (pr != null) {\n\n        if (path == \"/\" && principal.authenticated) {\n            window.location = \"/secured/main\";\n        } else if (path.startsWith(\"/secured\") && !principal.authenticated) {\n            window.location = \"/\";\n        } else {\n            return (\n                <AuthContext.Provider value={{principal, setPrincipal}} {...props} />\n            );\n        }\n    }\n\n    return null;\n}\n\nexport default AuthComponent;","/Users/jmgtan/work/collector-ui/src/components/DataComponent.js",["91","92","93","94","95","96","97"],"/Users/jmgtan/work/collector-ui/src/components/PeopleDataComponent.js",["98","99"],"/Users/jmgtan/work/collector-ui/src/components/DemographicsDataComponent.js",["100","101"],"/Users/jmgtan/work/collector-ui/src/components/UploadBatchDataFileComponent.js",["102","103","104","105","106","107","108","109"],{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":1,"column":8,"nodeType":"116","messageId":"117","endLine":1,"endColumn":12},{"ruleId":"114","severity":1,"message":"118","line":9,"column":9,"nodeType":"116","messageId":"117","endLine":9,"endColumn":20},{"ruleId":"114","severity":1,"message":"119","line":9,"column":22,"nodeType":"116","messageId":"117","endLine":9,"endColumn":36},{"ruleId":"114","severity":1,"message":"120","line":10,"column":9,"nodeType":"116","messageId":"117","endLine":10,"endColumn":18},{"ruleId":"114","severity":1,"message":"121","line":10,"column":20,"nodeType":"116","messageId":"117","endLine":10,"endColumn":28},{"ruleId":"114","severity":1,"message":"120","line":1,"column":16,"nodeType":"116","messageId":"117","endLine":1,"endColumn":25},{"ruleId":"122","severity":1,"message":"123","line":44,"column":108,"nodeType":"124","messageId":"125","endLine":44,"endColumn":110},{"ruleId":"122","severity":1,"message":"123","line":45,"column":51,"nodeType":"124","messageId":"125","endLine":45,"endColumn":53},{"ruleId":"122","severity":1,"message":"123","line":49,"column":112,"nodeType":"124","messageId":"125","endLine":49,"endColumn":114},{"ruleId":"122","severity":1,"message":"123","line":50,"column":51,"nodeType":"124","messageId":"125","endLine":50,"endColumn":53},{"ruleId":"114","severity":1,"message":"126","line":8,"column":12,"nodeType":"116","messageId":"117","endLine":8,"endColumn":23},{"ruleId":"127","severity":1,"message":"128","line":40,"column":68,"nodeType":"129","endLine":40,"endColumn":118},{"ruleId":"114","severity":1,"message":"130","line":1,"column":16,"nodeType":"116","messageId":"117","endLine":1,"endColumn":25},{"ruleId":"114","severity":1,"message":"119","line":3,"column":22,"nodeType":"116","messageId":"117","endLine":3,"endColumn":36},{"ruleId":"114","severity":1,"message":"131","line":4,"column":9,"nodeType":"116","messageId":"117","endLine":4,"endColumn":17},{"ruleId":"132","severity":1,"message":"133","line":13,"column":15,"nodeType":"134","endLine":22,"endColumn":6},{"ruleId":"132","severity":1,"message":"135","line":16,"column":18,"nodeType":"136","endLine":16,"endColumn":33},{"ruleId":"122","severity":1,"message":"123","line":26,"column":18,"nodeType":"124","messageId":"125","endLine":26,"endColumn":20},{"ruleId":"137","severity":1,"message":"138","line":15,"column":5,"nodeType":"139","messageId":"140","endLine":25,"endColumn":6},{"ruleId":"127","severity":1,"message":"128","line":32,"column":25,"nodeType":"129","endLine":32,"endColumn":167},{"ruleId":"122","severity":1,"message":"123","line":32,"column":58,"nodeType":"124","messageId":"125","endLine":32,"endColumn":60},{"ruleId":"127","severity":1,"message":"128","line":35,"column":25,"nodeType":"129","endLine":35,"endColumn":159},{"ruleId":"122","severity":1,"message":"123","line":35,"column":58,"nodeType":"124","messageId":"125","endLine":35,"endColumn":60},{"ruleId":"127","severity":1,"message":"128","line":38,"column":25,"nodeType":"129","endLine":38,"endColumn":157},{"ruleId":"122","severity":1,"message":"123","line":38,"column":58,"nodeType":"124","messageId":"125","endLine":38,"endColumn":60},{"ruleId":"132","severity":1,"message":"141","line":10,"column":5,"nodeType":"116","endLine":10,"endColumn":14,"suggestions":"142"},{"ruleId":"132","severity":1,"message":"133","line":10,"column":15,"nodeType":"134","endLine":18,"endColumn":6},{"ruleId":"132","severity":1,"message":"141","line":10,"column":5,"nodeType":"116","endLine":10,"endColumn":14,"suggestions":"143"},{"ruleId":"132","severity":1,"message":"133","line":10,"column":15,"nodeType":"134","endLine":18,"endColumn":6},{"ruleId":"132","severity":1,"message":"144","line":16,"column":5,"nodeType":"116","endLine":16,"endColumn":14,"suggestions":"145"},{"ruleId":"132","severity":1,"message":"133","line":16,"column":15,"nodeType":"134","endLine":19,"endColumn":6},{"ruleId":"114","severity":1,"message":"146","line":34,"column":23,"nodeType":"116","messageId":"117","endLine":34,"endColumn":37},{"ruleId":"122","severity":1,"message":"123","line":47,"column":36,"nodeType":"124","messageId":"125","endLine":47,"endColumn":38},{"ruleId":"122","severity":1,"message":"123","line":47,"column":61,"nodeType":"124","messageId":"125","endLine":47,"endColumn":63},{"ruleId":"122","severity":1,"message":"123","line":55,"column":46,"nodeType":"124","messageId":"125","endLine":55,"endColumn":48},{"ruleId":"122","severity":1,"message":"123","line":55,"column":80,"nodeType":"124","messageId":"125","endLine":55,"endColumn":82},{"ruleId":"137","severity":1,"message":"138","line":61,"column":9,"nodeType":"139","messageId":"140","endLine":68,"endColumn":10},"no-native-reassign",["147"],"no-negated-in-lhs",["148"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'useAuthContext' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'mainNavItem' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Component' is defined but never used.","'Redirect' is defined but never used.","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","Assignments to the 'pr' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect contains a call to 'setTableData'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [principal] as a second argument to the useEffect Hook.",["149"],["150"],"React Hook useEffect contains a call to 'setAvailableHandlers'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [principal] as a second argument to the useEffect Hook.",["151"],"'uploadResponse' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"152","fix":"153"},{"desc":"152","fix":"154"},{"desc":"152","fix":"155"},"Add dependencies array: [principal]",{"range":"156","text":"157"},{"range":"158","text":"157"},{"range":"159","text":"157"},[583,583],", [principal]",[594,594],[829,829]]