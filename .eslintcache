[{"/Users/jmgtan/work/collector-ui/src/index.js":"1","/Users/jmgtan/work/collector-ui/src/reportWebVitals.js":"2","/Users/jmgtan/work/collector-ui/src/App.js":"3","/Users/jmgtan/work/collector-ui/src/components/LoginComponent.js":"4","/Users/jmgtan/work/collector-ui/src/Config.js":"5","/Users/jmgtan/work/collector-ui/src/auth/AuthContext.js":"6","/Users/jmgtan/work/collector-ui/src/components/NavbarComponent.js":"7","/Users/jmgtan/work/collector-ui/src/auth/Principal.js":"8","/Users/jmgtan/work/collector-ui/src/exceptions/InvalidTokenException.js":"9","/Users/jmgtan/work/collector-ui/src/components/HomeComponent.js":"10","/Users/jmgtan/work/collector-ui/src/components/AdminComponent.js":"11","/Users/jmgtan/work/collector-ui/src/components/AuthComponent.js":"12","/Users/jmgtan/work/collector-ui/src/components/DataComponent.js":"13","/Users/jmgtan/work/collector-ui/src/components/PeopleDataComponent.js":"14","/Users/jmgtan/work/collector-ui/src/components/DemographicsDataComponent.js":"15"},{"size":500,"mtime":1607512247595,"results":"16","hashOfConfig":"17"},{"size":362,"mtime":1607512247596,"results":"18","hashOfConfig":"17"},{"size":1234,"mtime":1607665918351,"results":"19","hashOfConfig":"17"},{"size":2142,"mtime":1607613331197,"results":"20","hashOfConfig":"17"},{"size":127,"mtime":1607657630069,"results":"21","hashOfConfig":"17"},{"size":167,"mtime":1607516016865,"results":"22","hashOfConfig":"17"},{"size":2224,"mtime":1607670221502,"results":"23","hashOfConfig":"17"},{"size":2177,"mtime":1607609272742,"results":"24","hashOfConfig":"17"},{"size":167,"mtime":1607657707662,"results":"25","hashOfConfig":"17"},{"size":131,"mtime":1607603630603,"results":"26","hashOfConfig":"17"},{"size":134,"mtime":1607603735364,"results":"27","hashOfConfig":"17"},{"size":1055,"mtime":1607613396063,"results":"28","hashOfConfig":"17"},{"size":1377,"mtime":1607667468560,"results":"29","hashOfConfig":"17"},{"size":1382,"mtime":1607669571293,"results":"30","hashOfConfig":"17"},{"size":1542,"mtime":1607669574852,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1xvseao",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"34"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"34"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"34"},"/Users/jmgtan/work/collector-ui/src/index.js",[],["71","72"],"/Users/jmgtan/work/collector-ui/src/reportWebVitals.js",[],"/Users/jmgtan/work/collector-ui/src/App.js",["73","74","75","76","77"],"import logo from './logo.svg';\nimport './App.css';\nimport LoginComponent from './components/LoginComponent';\nimport HomeComponent from './components/HomeComponent';\nimport AdminComponent from './components/AdminComponent';\nimport NavbarComponent from './components/NavbarComponent';\nimport AuthComponent from './components/AuthComponent';\nimport DataComponent from './components/DataComponent';\nimport {AuthContext, useAuthContext} from './auth/AuthContext';\nimport {useEffect, useState} from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\n\n\nfunction App() {\n  // const [principal, setPrincipal] = useState();\n\n  return (\n    <AuthComponent>\n        <BrowserRouter>\n          <NavbarComponent></NavbarComponent>\n          <div class=\"container\">\n            <Switch>\n              <Route path=\"/\" exact component={LoginComponent}></Route>\n              <Route path=\"/secured/main\" exact component={HomeComponent}></Route>\n              <Route path=\"/secured/data\" exact component={DataComponent}></Route>\n              <Route path=\"/secured/admin/users\" exact component={AdminComponent}></Route>\n            </Switch>\n          </div>\n        </BrowserRouter>\n    </AuthComponent>\n  );\n}\n\nexport default App;\n","/Users/jmgtan/work/collector-ui/src/components/LoginComponent.js",["78"],"import React, {useEffect, useState} from 'react';\nimport Config from '../Config';\nimport {useAuthContext} from '../auth/AuthContext';\nconst axios = require('axios');\n\nfunction LoginComponent() {\n    const [username, setUsername] = useState();\n    const [password, setPassword] = useState();\n    const [validationError, setValidationError] = useState();\n\n    const {principal, setPrincipal} = useAuthContext();\n\n    async function doLogin(event) {\n        event.preventDefault();\n        setValidationError(null);\n        try {\n            const loginResponse = await axios.post(Config.backend+\"/auth/login\", {username: username, password: password});    \n            const token = loginResponse.data.token;\n            await principal.reloadProfileWithNewToken(token);\n            setPrincipal(principal);\n    \n            window.location = \"/secured/main\";\n        } catch (e) {\n            setValidationError(\"Username and password do not match\");\n        }\n\n    }\n\n    return  (\n        <div class=\"row\">\n            <div class=\"col-3\"></div>\n            <div class=\"col-6\">\n                <div class=\"mt-3 mb-3\">\n                    <h1 class=\"display-6\">Sign In</h1>\n                </div>\n                {validationError ? <div class=\"alert alert-danger\">{validationError}</div> : null}\n                <form onSubmit={doLogin}>\n                    <div class=\"mb-3\">\n                        <label for=\"username\" class=\"form-label\">Username</label>\n                        <input type=\"text\" class=\"form-control form-control-lg\" value={username} onChange={e => setUsername(e.target.value)} />\n                    </div>\n                    <div class=\"mb-3\">\n                        <label for=\"password\" class=\"form-label\">Password</label>\n                        <input type=\"password\" class=\"form-control form-control-lg\" value={password} onChange={e => setPassword(e.target.value)} />\n                    </div>\n                    <button class=\"btn btn-primary\" type=\"submit\">Login</button>\n                </form>\n            </div>\n            <div class=\"col-3\"></div>\n        </div>\n    );\n}\n\nexport default LoginComponent;","/Users/jmgtan/work/collector-ui/src/Config.js",[],"/Users/jmgtan/work/collector-ui/src/auth/AuthContext.js",[],"/Users/jmgtan/work/collector-ui/src/components/NavbarComponent.js",["79","80"],"import React, {useState} from 'react';\nimport {useAuthContext} from '../auth/AuthContext';\nimport {Link} from 'react-router-dom';\n\nfunction NavbarComponent() {\n    const {principal} = useAuthContext();\n    const currLoc = window.location.pathname;\n    const [mainNavItem, setMainNavItem] = useState(currLoc);\n\n    function logout() {\n        principal.reset();\n        window.location = \"/\";\n\n    }\n    \n\n    if (!principal.authenticated)\n        return null;\n\n    return (\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n            <div class=\"container\">\n                <a class=\"navbar-brand\" href=\"/\">Collector UI</a>\n                <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarToggle\" aria-controls=\"navbarToggle\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span class=\"navbar-toggler-icon\"></span>\n                </button>\n                <div class=\"collapse navbar-collapse\" id=\"navbarToggle\">\n                    <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/main\" className={currLoc.startsWith(\"/secured/main\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/main\")}}>Home</Link>\n                        </li>\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/data\" className={currLoc.startsWith(\"/secured/data\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/data\")}}>Data</Link>\n                        </li>\n                        <li class=\"nav-item\">\n                            <Link to=\"/secured/admin/users\" className={currLoc.startsWith(\"/secured/admin\") ? \"nav-link active\" : \"nav-link\"} onClick={() => {setMainNavItem(\"/secured/admin/users\")}}>Admin</Link>\n                        </li>\n                    </ul>\n                    <div class=\"d-flex\">\n                        Logged in as {principal.profile.username} [<a href=\"#\" onClick={logout} class=\"link-primary\">Logout</a>]\n                    </div>\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default NavbarComponent;","/Users/jmgtan/work/collector-ui/src/auth/Principal.js",[],"/Users/jmgtan/work/collector-ui/src/exceptions/InvalidTokenException.js",[],["81","82"],"/Users/jmgtan/work/collector-ui/src/components/HomeComponent.js",[],"/Users/jmgtan/work/collector-ui/src/components/AdminComponent.js",[],"/Users/jmgtan/work/collector-ui/src/components/AuthComponent.js",["83","84","85","86","87","88"],"import React, {Component, useEffect, useState} from 'react';\nimport Principal from '../auth/Principal';\nimport {AuthContext, useAuthContext} from '../auth/AuthContext';\nimport {Redirect} from 'react-router-dom';\n\n\nfunction AuthComponent(props) {\n    const [principal, setPrincipal] = useState();    \n    const path = window.location.pathname;\n\n    let pr = principal;\n    \n    useEffect(async() => {\n        if (pr == null) {\n            \n            pr = new Principal();\n            pr.initFromStorage()\n                .then(() => {\n                    setPrincipal(pr);\n                });\n        }\n    });\n\n    if (pr != null) {\n\n        if (path == \"/\" && principal.authenticated) {\n            window.location = \"/secured/main\";\n        } else if (path.startsWith(\"/secured\") && !principal.authenticated) {\n            window.location = \"/\";\n        } else {\n            return (\n                <AuthContext.Provider value={{principal, setPrincipal}} {...props} />\n            );\n        }\n    }\n\n    return null;\n}\n\nexport default AuthComponent;","/Users/jmgtan/work/collector-ui/src/components/DataComponent.js",["89","90","91","92","93"],"import React, {useState} from 'react';\nimport PeopleDataComponent from './PeopleDataComponent';\nimport DemographicsDataComponent from './DemographicsDataComponent';\n\nfunction DataComponent() {\n    const [subnavItem, setSubnavItem] = useState(\"people\");\n\n    function subnavClickHandler(item) {\n        setSubnavItem(item);\n    }\n\n    let component = null;\n\n    switch (subnavItem) {\n        case \"people\":\n            component = <PeopleDataComponent />\n            break;\n        case \"demographics\":\n            component = <DemographicsDataComponent />;\n            break;\n    }\n\n    return(\n        <div class=\"row mt-5\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-pills\">\n                    <li class=\"nav-item\">\n                        <a class={subnavItem == \"people\" ? \"nav-link active\" : \"nav-link\"} aria-current=\"page\" href=\"#\" onClick={() => {subnavClickHandler('people')}}>People</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a class={subnavItem == \"demographics\" ? \"nav-link active\" : \"nav-link\"} href=\"#\" onClick={() => {subnavClickHandler('demographics')}}>Demographics</a>\n                    </li>\n                </ul>\n                <div class=\"mt-3\">\n                    {component}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default DataComponent;","/Users/jmgtan/work/collector-ui/src/components/PeopleDataComponent.js",["94","95"],"import React,{useState, useEffect} from 'react';\nimport {useAuthContext} from '../auth/AuthContext';\nimport Config from '../Config';\nconst axios = require('axios');\n\nfunction PeopleDataComponent() {\n    const {principal} = useAuthContext();\n    const [tableData, setTableData] = useState([]);\n\n    useEffect(async() => {\n        try {\n            const response = await axios.get(Config.backend+\"/data/persons/list\", {headers: {\"Authorization\": \"Bearer \"+principal.token}});\n            setTableData(response.data.entities);\n        } catch (e) {\n            window.location = \"/\";\n        }\n        \n    });\n\n    return (\n        <table class=\"table table-bordered table-dark table-striped\">\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>DOB</th>\n                </tr>\n            </thead>\n            <tbody>\n                {tableData.map((r) => {\n                    return(\n                        <tr>\n                            <td>{r.id}</td>\n                            <td>{r.firstName}</td>\n                            <td>{r.lastName}</td>\n                            <td>{r.dob}</td>\n                        </tr>\n                    )\n                })}\n            </tbody>\n        </table>\n    );\n}\n\nexport default PeopleDataComponent;","/Users/jmgtan/work/collector-ui/src/components/DemographicsDataComponent.js",["96","97"],"import React,{useState, useEffect} from 'react';\nimport {useAuthContext} from '../auth/AuthContext';\nimport Config from '../Config';\nconst axios = require('axios');\n\nfunction DemographicsDataComponent() {\n    const {principal} = useAuthContext();\n    const [tableData, setTableData] = useState([]);\n\n    useEffect(async() => {\n        try {\n            const response = await axios.get(Config.backend+\"/data/demographics/list\", {headers: {\"Authorization\": \"Bearer \"+principal.token}});\n            setTableData(response.data.entities);\n        } catch (e) {\n            window.location = \"/\";\n        }\n        \n    });\n\n    return (\n        <table class=\"table table-bordered table-dark table-striped\">\n            <thead>\n                <tr>\n                    <th>#</th>\n                    <th>Name</th>\n                    <th>Submission Time</th>\n                    <th>Telephone</th>\n                    <th>Address</th>\n                </tr>\n            </thead>\n            <tbody>\n                {tableData.map((r) => {\n                    return(\n                        <tr>\n                            <td>{r.id}</td>\n                            <td>{r.person.firstName + \" \" + r.person.lastName}</td>\n                            <td>{r.submissionTime}</td>\n                            <td>{r.telephoneNumber}</td>\n                            <td>{r.address}</td>\n                        </tr>\n                    )\n                })}\n            </tbody>\n        </table>\n    );\n}\n\nexport default DemographicsDataComponent;",{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","severity":1,"message":"103","line":1,"column":8,"nodeType":"104","messageId":"105","endLine":1,"endColumn":12},{"ruleId":"102","severity":1,"message":"106","line":9,"column":9,"nodeType":"104","messageId":"105","endLine":9,"endColumn":20},{"ruleId":"102","severity":1,"message":"107","line":9,"column":22,"nodeType":"104","messageId":"105","endLine":9,"endColumn":36},{"ruleId":"102","severity":1,"message":"108","line":10,"column":9,"nodeType":"104","messageId":"105","endLine":10,"endColumn":18},{"ruleId":"102","severity":1,"message":"109","line":10,"column":20,"nodeType":"104","messageId":"105","endLine":10,"endColumn":28},{"ruleId":"102","severity":1,"message":"108","line":1,"column":16,"nodeType":"104","messageId":"105","endLine":1,"endColumn":25},{"ruleId":"102","severity":1,"message":"110","line":8,"column":12,"nodeType":"104","messageId":"105","endLine":8,"endColumn":23},{"ruleId":"111","severity":1,"message":"112","line":40,"column":68,"nodeType":"113","endLine":40,"endColumn":118},{"ruleId":"98","replacedBy":"114"},{"ruleId":"100","replacedBy":"115"},{"ruleId":"102","severity":1,"message":"116","line":1,"column":16,"nodeType":"104","messageId":"105","endLine":1,"endColumn":25},{"ruleId":"102","severity":1,"message":"107","line":3,"column":22,"nodeType":"104","messageId":"105","endLine":3,"endColumn":36},{"ruleId":"102","severity":1,"message":"117","line":4,"column":9,"nodeType":"104","messageId":"105","endLine":4,"endColumn":17},{"ruleId":"118","severity":1,"message":"119","line":13,"column":15,"nodeType":"120","endLine":22,"endColumn":6},{"ruleId":"118","severity":1,"message":"121","line":16,"column":18,"nodeType":"122","endLine":16,"endColumn":33},{"ruleId":"123","severity":1,"message":"124","line":26,"column":18,"nodeType":"125","messageId":"126","endLine":26,"endColumn":20},{"ruleId":"127","severity":1,"message":"128","line":14,"column":5,"nodeType":"129","messageId":"130","endLine":21,"endColumn":6},{"ruleId":"111","severity":1,"message":"112","line":28,"column":25,"nodeType":"113","endLine":28,"endColumn":168},{"ruleId":"123","severity":1,"message":"124","line":28,"column":46,"nodeType":"125","messageId":"126","endLine":28,"endColumn":48},{"ruleId":"111","severity":1,"message":"112","line":31,"column":25,"nodeType":"113","endLine":31,"endColumn":160},{"ruleId":"123","severity":1,"message":"124","line":31,"column":46,"nodeType":"125","messageId":"126","endLine":31,"endColumn":48},{"ruleId":"118","severity":1,"message":"131","line":10,"column":5,"nodeType":"104","endLine":10,"endColumn":14,"suggestions":"132"},{"ruleId":"118","severity":1,"message":"119","line":10,"column":15,"nodeType":"120","endLine":18,"endColumn":6},{"ruleId":"118","severity":1,"message":"131","line":10,"column":5,"nodeType":"104","endLine":10,"endColumn":14,"suggestions":"133"},{"ruleId":"118","severity":1,"message":"119","line":10,"column":15,"nodeType":"120","endLine":18,"endColumn":6},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'AuthContext' is defined but never used.","'useAuthContext' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'mainNavItem' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["134"],["135"],"'Component' is defined but never used.","'Redirect' is defined but never used.","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","Assignments to the 'pr' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","React Hook useEffect contains a call to 'setTableData'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [principal.token] as a second argument to the useEffect Hook.",["136"],["137"],"no-global-assign","no-unsafe-negation",{"desc":"138","fix":"139"},{"desc":"138","fix":"140"},"Add dependencies array: [principal.token]",{"range":"141","text":"142"},{"range":"143","text":"142"},[606,606],", [principal.token]",[617,617]]